## 서버란 ?

"클라이언트의 요청을 받으면 서비스, 데이터를 제공하는 컴퓨터 혹은 프로그램"을 말한다. <br>
-> "요청을 받으면 데이터를 보내주는 기계"

```js
if 누군가가 메인페이지 요청을 하면
메인페이지 html을 보내준다.
```

<br>

## 서버에 요청할 수 있는 4가지 방법

웹서버에 유저가 정식으로 할 수 있는 요청은 4 종류가 있다.

1. 읽기(GET) <br>
   => 웹페이지를 읽을 때

2. 쓰기 혹은 생성(POST) <br>
   => 글 작성, 로그인

3. 수정(PUT) <br>
   => 글이나 댓글 수정
4. 삭제(DELETE) <br>
   => 글이나 댓글 삭제

<br>

## Node.js

자바스크립트를 브라우저 말고도 로컬 PC에서도 실행시켜줄 수 있는 실행창(런타임)이다.
자바스크립트 코드를 입력하면 바로바로 해석해서 실행시켜준다.

<br>

### 장점

Node.js는 Non-blocking이라는 장정 때문에 사용한다.

예를 들어,

1. 일반 프로그래밍 언어로 만든 서버

   요청1 => 영화 1장 예매 <br>
   요청2 => 영화 1장 예매 <br>
   요청3 => 영화 200장 예매 <br>
   요청4 => 영화 1장 예매

4개의 요청이 차례로 들어왔을 경우, **위에서부터 차례로 하나씩 처리해 준다.** 영화 1장 예매가 1초 걸린다고 했을 때 200장은 200초 이상 걸리는 무거운 작업이다.<br>
처리 순서 => 요청1 - 요청2 - 요청3 (200초 대기) - 요청4

<br>

2. Node.js로 만든 서버

   요청1 => 영화 1장 예매 <br>
   요청2 => 영화 1장 예매 <br>
   요청3 => 영화 200장 예매 <br>
   요청4 => 영화 1장 예매

4개의 요청이 차례로 들어왔을 경우, **일단 접수부터 다 받고 빨리 완료된 것부터 처리해 준다.** 순서 상관없이 결과가 빨리 나오는 순으로 예매를 해준다. <br>

Node.js가 강점을 보이는 분야는 SNS, 채팅서비스 웹서버이다. SNS같은 플랫폼 만들 때 가장 중요한건 "한번에 많은 요청을 감당할 수 있는지"인데 <br>
**일반 서버**의 경우 1초에 10만개의 요청이 들어오면 바로 처리해주기 위해서는 똑같은 서버를 몇만대 복사해서 만들어 두거나(Scaling), CPU 멀티쓰레딩을 이용하거나, <br>
Node처럼 Non-blocking 스타일로 코드를 짜거나 한다.

반면 Node.js 서버의 경우엔 애초에 설계상 한꺼번에 많은 요청을 받아줄 수 있으니 애초에 서버 크기를 키울 걱정은 적다. <br>
하지만 처리 속도는 다른 문제다. Node.js 자체가 연산속도가 빠르다고 유명해진게 아니기 때문이다.

<br>

## Node.js, Express 라이브러리 설치

1. 구글에 Nodejs 검색 후 가장 먼저 나오는 사이트에 들어가서 신버전으로 설치
2. 작업 폴더를 만들고 VS code 에디터로 오픈
3. 터미널을 켜고 npm init 입력 (터미널 켜는 방법은 => VS code 에디터 상단 메뉴 보면 Terminal - New Terminal을 선택하면 된다.)
4. 엔터키를 누르다가 중간에 entry point: ? 라고 되어있는 부분은 server.js 라는 파일명을 입력해주고 엔터를 치면 된다.

<br>

npm => 노트 패키지 매니저, **라이브러리를 설치를 쉽게 도와주는 도구**. Node 설치하면 같이 딸려온다. <br>
라이브러리 => 코딩생활을 쉽게 만들어주는 일종의 코드 모음집 같은 것. <br>
npm init => package.json 파일을 만들기 위해 사용하는 명령어 <br>
package.json => 어떤 라이브러리를 썼는지 기록해두면 좋다. 설치한 라이브러리 목록을 자동으로 기록해주는 파일

5. 터미널에 npm install express 또는 yarn add express 입력 <br>
   npm install [라이브러리명] => 라이브러리를 자동으로 빠르게 설치해줌

   **express** => 서버를 매우 쉽게 짤 수 있게 도와주는 라이브러리

<br>

## 서버 기본 템플릿

```js
server.js;

// express 라이브러리 첨부와 사용
const express = require('express');
const app = express();

// 8080포트에 서버 오픈, listen(서버를 오픈할 포트번호, function() {서버 오픈시 실행할 코드})
app.listen(8080, function () {
  console.log('listening on 8080');
});
```

위 코드를 작성하고 터미널에 node server.js 입력하면 서버가 실행되고 브라우저에서 localhost:8080에 접속하면 확인 가능하다.
